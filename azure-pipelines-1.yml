trigger:
- main

pool:
  name: Default
  demands: agent.name -equals agent01
stages:
  - stage: Build
    jobs:
      - job: Firstjob
        steps:
          - bash: echo Build first 
          - bash: echo $(pipelevelvarible)
      - job: Secondjob
        steps:
          - bash: echo Build second job
  - stage: DevDeploy
    variables:
      environment: Devdeploy
    dependsOn: Build
    jobs:
      - job: FirstJob
        steps:
          - bash: echo $(environment)
  - stage: QADeploy
    variables:
      environment: QADeploy
    dependsOn: DevDeploy
    jobs:
      - job: FirstJob
        steps:
          - bash: echo $(environment)
  - stage: ProductionDeploy
    variables:
     environment: ProductionDeploy
    dependsOn: QAdeploy
    jobs:
      - job: Firstjob
        steps:
          - bash: echo $(environment) 
